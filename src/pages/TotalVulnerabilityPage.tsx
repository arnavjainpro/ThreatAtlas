import React from 'react';
import DetailPage from '../components/DetailPage';
import ExcelExportButton from '../components/ExcelExportButton';

const TotalVulnerabilityPage: React.FC = () => {
  const mockData = {
    title: 'Total Security Assessment',
    subtitle: 'Comprehensive security strength analysis combining all security factors',
    totalScore: 4.34, // Converted from 43.4/100 to 4.34/10
    maxScore: 10,
    scoreBreakdown: [
      { 
        factor: 'Base Security Measures', 
        impact: 1.1, // Converted from 11/100 to 1.1/10
        maxImpact: 10,
        description: 'Core security measures implemented in code, configuration, and architecture that provide direct security protection.',
        recommendations: [
          'Continue strengthening critical and high-priority security measures',
          'Maintain secure coding practices',
          'Regular security code reviews'
        ]
      },
      { 
        factor: 'Proactive Security Initiatives', 
        impact: 7.6, // Converted from 76/100 to 7.6/10
        maxImpact: 10,
        description: 'Proactive security measures that can be enhanced through configuration improvements or updates.',
        recommendations: [
          'Continue implementing security enhancements',
          'Keep security dependencies updated',
          'Maintain secure configurations'
        ]
      },
      { 
        factor: 'Security Resilience', 
        impact: 8.8, // Converted from 88/100 to 8.8/10
        maxImpact: 10,
        description: 'Additional security strength from comprehensive security strategies and environmental protections.',
        recommendations: [
          'Maintain defense in depth strategies',
          'Continue regular threat modeling exercises',
          'Monitor security posture effectiveness'
        ]
      }
    ],
    additionalInfo: (
      <div className="additional-info">
        <div className="info-section">
          <h3>Security Assessment Summary</h3>
          <div className="risk-metrics">
            <div className="metric">
              <span className="metric-label">Overall Security Level:</span>
              <span className="metric-value risk-medium">Moderate Security</span>
            </div>
            <div className="metric">
              <span className="metric-label">Trend:</span>
              <span className="metric-value trend-up">↗️ Improving</span>
            </div>
            <div className="metric">
              <span className="metric-label">Priority Enhancements:</span>
              <span className="metric-value">7 Key Areas</span>
            </div>
          </div>
        </div>
        
        <div className="info-section">
          <h3>Key Security Strengths</h3>
          <ul className="risk-factors">
            <li>Application implements data protection measures (PII, financial information)</li>
            <li>External-facing application with security monitoring</li>
            <li>Secure integration with third-party services and APIs</li>
            <li>Compliance implementations (SOC 2, PCI DSS, HIPAA)</li>
            <li>Proactive security measures against potential threats</li>
          </ul>
        </div>
        
        <div className="info-section">
          <h3>Recent Security Trend Analysis</h3>
          <div className="trend-data">
            <div className="trend-item">
              <span>This Week: 4.34/10 (+0.21)</span>
            </div>
            <div className="trend-item">
              <span>Last Week: 4.13/10 (+0.18)</span>
            </div>
            <div className="trend-item">
              <span>Last Month: 3.95/10 (+0.43)</span>
            </div>
          </div>
        </div>
      </div>
    )
  };

  return (
    <DetailPage
      title={mockData.title}
      subtitle={mockData.subtitle}
      icon="◉"
      totalScore={mockData.totalScore}
      maxScore={mockData.maxScore}
      scoreBreakdown={mockData.scoreBreakdown}
      additionalInfo={mockData.additionalInfo}
      exportButton={<ExcelExportButton pageType="total" vulnerabilityCount={38} />}
    />
  );
};

export default TotalVulnerabilityPage;
